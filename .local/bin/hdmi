#!/bin/sh

IN=$(xrandr | grep "eDP" | grep " connected" | sed -e "s/\([A-Z0-9]\+\) connected.*/\1/")
EXT=$(xrandr | grep "HDMI" | grep " connected" | sed -e "s/\([A-Z0-9]\+\) connected.*/\1/")

if (xrandr | grep "$EXT disconnected"); then
    xrandr --output $EXT --off --output $IN --auto
    pactl set-card-profile 0 output:analog-stereo+input:analog-stereo
else
    xrandr --output $IN --off --output $EXT --auto
    pactl set-card-profile 0 output:hdmi-stereo+input:analog-stereo
fi
